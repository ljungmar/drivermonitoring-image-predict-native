"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6071],{6071:(O,p,r)=>{r.r(p),r.d(p,{HomePageModule:()=>b});var g=r(6814),s=r(7027),f=r(95),u=r(3044),n=r(6689),m=r(9862);let h=(()=>{var t;class o{constructor(e){this.http=e,this.ipv4="192.168.32.14",this.baseUrl="http://"+this.ipv4+":8080"}uploadFile(e){return this.http.post(`${this.baseUrl}/upload-file`,e)}}return(t=o).\u0275fac=function(e){return new(e||t)(n.LFG(m.eN))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),o})();function _(t,o){1&t&&(n.TgZ(0,"div",11),n._UZ(1,"div",12),n.TgZ(2,"p"),n._uU(3,"Loading..."),n.qZA()())}function P(t,o){if(1&t&&(n.TgZ(0,"p"),n._uU(1),n.qZA()),2&t){const i=n.oxw(2);n.xp6(1),n.hij("Prediction: ",i.prediction,"")}}function C(t,o){if(1&t&&(n.TgZ(0,"div")(1,"div",13)(2,"div",14),n._uU(3,"Result of predictions"),n.qZA(),n.YNc(4,P,2,1,"p",10),n.qZA()()),2&t){const i=n.oxw();n.xp6(4),n.Q6J("ngIf","distracted"===i.prediction||"focused"===i.prediction)}}let v=(()=>{var t;class o{constructor(e){this.apiService=e,this.file=null,this.loading=!1,this.uploadStatus=null,this.accuracy=null,this.loss=null,this.prediction=null}ngOnInit(){}uploadHandler(e){var l;const a=null==e||null===(l=e.target)||void 0===l?void 0:l.files[0];if(!a)return void console.error("No file selected.");console.log(a);const d=new FormData;d.append("file",a,a.name),console.log("formdata: ",d.get("file")),this.loading=!0,this.apiService.uploadFile(d).subscribe(c=>{this.file=c.file,this.prediction=c.prediction,console.log("response from server: ",this.prediction),this.uploadStatus="success",this.loading=!1},c=>{console.error(c),this.uploadStatus="failure",this.loading=!1})}}return(t=o).\u0275fac=function(e){return new(e||t)(n.Y36(h))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-file-upload"]],decls:16,vars:2,consts:[[1,"file-card"],[1,"title"],[1,"file-input"],["type","file",2,"display","none",3,"change"],["fileInput",""],["for","fileInput"],[3,"click"],[1,"main"],[1,"info"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"loading-spinner"],[1,"spinner"],[1,"result-card"],[1,"title-result"]],template:function(e,l){if(1&e){const a=n.EpF();n.TgZ(0,"div")(1,"div",0)(2,"div",1),n._uU(3,"Upload a picture to be predicted"),n.qZA(),n.TgZ(4,"div",2)(5,"input",3,4),n.NdJ("change",function(c){return l.uploadHandler(c)}),n.qZA(),n.TgZ(7,"label",5)(8,"button",6),n.NdJ("click",function(){n.CHM(a);const c=n.MAs(6);return n.KtG(c.click())}),n._uU(9,"-Upload-"),n.qZA()()(),n.TgZ(10,"p",7),n._uU(11,"Supported file to predict"),n.qZA(),n.TgZ(12,"p",8),n._uU(13,"JPG, PNG"),n.qZA()(),n.YNc(14,_,4,0,"div",9),n.YNc(15,C,5,1,"div",10),n.qZA()}2&e&&(n.xp6(14),n.Q6J("ngIf",l.loading),n.xp6(1),n.Q6J("ngIf",!l.loading&&"success"===l.uploadStatus&&null!==l.prediction))},dependencies:[g.O5],styles:[".file-card[_ngcontent-%COMP%]{padding:1em;display:flex;flex-direction:column;justify-content:center;align-items:center;border:3px groove #cbd5e0;background-color:#fff;min-width:100%;min-height:80%;border-radius:16px}.file-card[_ngcontent-%COMP%]   .file-inputs[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5em}.file-card[_ngcontent-%COMP%]   .file-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;text-align:right;opacity:0;z-index:2;cursor:pointer;height:46px;max-width:200px}.file-card[_ngcontent-%COMP%]   .file-inputs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;display:flex;justify-content:center;align-items:center;color:#fff;background-color:#6fba26;font-size:1.1rem;cursor:pointer;border-radius:7px;outline:none;transition:background-color .4s;box-shadow:inset 0 1px #b2f17f,0 6px #3d6f0d}.file-card[_ngcontent-%COMP%]   .file-inputs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1.5em;height:1.5em;padding:.4em;background-color:#fff;color:#6fba26;border-radius:50%;display:flex;justify-content:center;align-items:center;margin-right:.8em;font-size:.8em}.file-card[_ngcontent-%COMP%]   .file-inputs[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{background-color:#26ed1e}.file-card[_ngcontent-%COMP%]   .file-inputs[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#25ec35}.file-card[_ngcontent-%COMP%]   .file-inputs[_ngcontent-%COMP%]:active   button[_ngcontent-%COMP%]{padding:11px 10px 9px;top:7px;box-shadow:inset 0 1px #b2f17f,inset 0 -1px #3d6f0d;text-shadow:0px 1px 1px rgba(255,255,255,.3);color:#156785;background-color:#438a2a}.file-card[_ngcontent-%COMP%]   .file-inputs[_ngcontent-%COMP%]:active   i[_ngcontent-%COMP%]{color:#438a2a;background-color:#156785}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-spinner[_ngcontent-%COMP%]{display:inline-block}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:20px;height:20px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-right:10px;vertical-align:middle}.title[_ngcontent-%COMP%]{font-weight:700;font-size:large;margin-bottom:2em}.main[_ngcontent-%COMP%]{font-weight:700;font-style:italic;margin-bottom:.4em}.info[_ngcontent-%COMP%]{font-size:.8rem}.result-card[_ngcontent-%COMP%]{padding:1em;display:flex;flex-direction:column;justify-content:center;align-items:center;border:3px groove #cbd5e0;background-color:#fff;min-width:100%;min-height:80%;border-radius:16px}.title-result[_ngcontent-%COMP%]{font-weight:700;font-size:large;margin-bottom:2em}"]}),o})();const x=[{path:"",component:(()=>{var t;class o{onSetFiles(e){this.files=e}constructor(){this.files=[]}}return(t=o).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-home"]],inputs:{files:"files"},decls:11,vars:2,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["id","container"]],template:function(e,l){1&e&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),n._uU(3," Drivermonitoring "),n.qZA()()(),n.TgZ(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),n._uU(8,"Drivermonitoring"),n.qZA()()(),n.TgZ(9,"div",4),n._UZ(10,"app-file-upload"),n.qZA()()),2&e&&(n.Q6J("translucent",!0),n.xp6(4),n.Q6J("fullscreen",!0))},dependencies:[s.W2,s.Gu,s.wd,s.sr,v],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),o})()}];let M=(()=>{var t;class o{}return(t=o).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[u.Bz.forChild(x),u.Bz]}),o})(),b=(()=>{var t;class o{}return(t=o).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[g.ez,f.u5,s.Pc,M]}),o})()}}]);